<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="2071pt" height="548pt"
 viewBox="0.00 0.00 2070.66 548.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 544)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-544 2066.66,-544 2066.66,4 -4,4"/>
<!-- /home/adminwsl/sophos/terraform_ecs_fargate_pattern -->
<g id="node1" class="node">
<title>/home/adminwsl/sophos/terraform_ecs_fargate_pattern</title>
<ellipse fill="none" stroke="black" cx="266.48" cy="-522" rx="266.45" ry="18"/>
<text text-anchor="middle" x="266.48" y="-518.3" font-family="Times,serif" font-size="14.00">/home/adminwsl/sophos/terraform_ecs_fargate_pattern</text>
</g>
<!-- resources/Compute/EC2/ALB_Main -->
<g id="node2" class="node">
<title>resources/Compute/EC2/ALB_Main</title>
<ellipse fill="none" stroke="black" cx="1267.48" cy="-378" rx="172.77" ry="18"/>
<text text-anchor="middle" x="1267.48" y="-374.3" font-family="Times,serif" font-size="14.00">resources/Compute/EC2/ALB_Main</text>
</g>
<!-- resources/Network/VPC -->
<g id="node3" class="node">
<title>resources/Network/VPC</title>
<ellipse fill="none" stroke="black" cx="670.48" cy="-18" rx="121.58" ry="18"/>
<text text-anchor="middle" x="670.48" y="-14.3" font-family="Times,serif" font-size="14.00">resources/Network/VPC</text>
</g>
<!-- resources/Compute/EC2/ALB_Main&#45;&gt;resources/Network/VPC -->
<g id="edge1" class="edge">
<title>resources/Compute/EC2/ALB_Main&#45;&gt;resources/Network/VPC</title>
<path fill="none" stroke="black" d="M1267.48,-359.95C1267.48,-333.29 1267.48,-280.11 1267.48,-235 1267.48,-235 1267.48,-235 1267.48,-161 1267.48,-65.11 972.31,-33.86 797.07,-23.76"/>
<polygon fill="black" stroke="black" points="797.18,-20.26 787,-23.2 796.79,-27.25 797.18,-20.26"/>
</g>
<!-- resources/Network/SecurityGroups/ALB -->
<g id="node4" class="node">
<title>resources/Network/SecurityGroups/ALB</title>
<ellipse fill="none" stroke="black" cx="931.48" cy="-90" rx="196.07" ry="18"/>
<text text-anchor="middle" x="931.48" y="-86.3" font-family="Times,serif" font-size="14.00">resources/Network/SecurityGroups/ALB</text>
</g>
<!-- resources/Compute/EC2/ALB_Main&#45;&gt;resources/Network/SecurityGroups/ALB -->
<g id="edge2" class="edge">
<title>resources/Compute/EC2/ALB_Main&#45;&gt;resources/Network/SecurityGroups/ALB</title>
<path fill="none" stroke="black" d="M1262.83,-359.84C1260.06,-349.48 1256.49,-336 1253.48,-324 1233.42,-244.23 1269.98,-200.78 1210.48,-144 1190.54,-124.97 1134.81,-112.46 1078.36,-104.4"/>
<polygon fill="black" stroke="black" points="1078.57,-100.89 1068.19,-102.99 1077.61,-107.83 1078.57,-100.89"/>
</g>
<!-- resources/Network/SecurityGroups/ALB&#45;&gt;resources/Network/VPC -->
<g id="edge12" class="edge">
<title>resources/Network/SecurityGroups/ALB&#45;&gt;resources/Network/VPC</title>
<path fill="none" stroke="black" d="M871.27,-72.85C830.85,-62.01 777.61,-47.73 736.11,-36.6"/>
<polygon fill="black" stroke="black" points="736.93,-33.2 726.37,-33.99 735.12,-39.96 736.93,-33.2"/>
</g>
<!-- resources/Containers/ECS/ECS_Cluster -->
<g id="node5" class="node">
<title>resources/Containers/ECS/ECS_Cluster</title>
<ellipse fill="none" stroke="black" cx="347.48" cy="-450" rx="194.17" ry="18"/>
<text text-anchor="middle" x="347.48" y="-446.3" font-family="Times,serif" font-size="14.00">resources/Containers/ECS/ECS_Cluster</text>
</g>
<!-- resources/Containers/ECS/Services/default_service -->
<g id="node6" class="node">
<title>resources/Containers/ECS/Services/default_service</title>
<ellipse fill="none" stroke="black" cx="799.48" cy="-522" rx="248.06" ry="18"/>
<text text-anchor="middle" x="799.48" y="-518.3" font-family="Times,serif" font-size="14.00">resources/Containers/ECS/Services/default_service</text>
</g>
<!-- resources/Containers/ECS/Services/default_service&#45;&gt;resources/Compute/EC2/ALB_Main -->
<g id="edge6" class="edge">
<title>resources/Containers/ECS/Services/default_service&#45;&gt;resources/Compute/EC2/ALB_Main</title>
<path fill="none" stroke="black" d="M947.58,-507.53C991.8,-499.73 1039.41,-487.42 1080.48,-468 1103.01,-457.34 1101.91,-444.49 1123.48,-432 1147.29,-418.21 1175.33,-406.92 1200.31,-398.36"/>
<polygon fill="black" stroke="black" points="1201.7,-401.58 1210.07,-395.09 1199.48,-394.95 1201.7,-401.58"/>
</g>
<!-- resources/Containers/ECS/Services/default_service&#45;&gt;resources/Network/VPC -->
<g id="edge4" class="edge">
<title>resources/Containers/ECS/Services/default_service&#45;&gt;resources/Network/VPC</title>
<path fill="none" stroke="black" d="M624.69,-509.2C430.51,-495.78 142.67,-474.84 132.48,-468 95.67,-443.3 87.48,-423.32 87.48,-379 87.48,-379 87.48,-379 87.48,-161 87.48,-67.54 373.87,-35.33 545.2,-24.43"/>
<polygon fill="black" stroke="black" points="545.53,-27.91 555.29,-23.8 545.1,-20.93 545.53,-27.91"/>
</g>
<!-- resources/Containers/ECS/Services/default_service&#45;&gt;resources/Containers/ECS/ECS_Cluster -->
<g id="edge3" class="edge">
<title>resources/Containers/ECS/Services/default_service&#45;&gt;resources/Containers/ECS/ECS_Cluster</title>
<path fill="none" stroke="black" d="M699.44,-505.51C626.3,-494.18 527.3,-478.85 452.93,-467.33"/>
<polygon fill="black" stroke="black" points="453.02,-463.8 442.6,-465.73 451.95,-470.72 453.02,-463.8"/>
</g>
<!-- resources/Network/SecurityGroups/ECS/default_service -->
<g id="node7" class="node">
<title>resources/Network/SecurityGroups/ECS/default_service</title>
<ellipse fill="none" stroke="black" cx="931.48" cy="-162" rx="270.25" ry="18"/>
<text text-anchor="middle" x="931.48" y="-158.3" font-family="Times,serif" font-size="14.00">resources/Network/SecurityGroups/ECS/default_service</text>
</g>
<!-- resources/Containers/ECS/Services/default_service&#45;&gt;resources/Network/SecurityGroups/ECS/default_service -->
<g id="edge5" class="edge">
<title>resources/Containers/ECS/Services/default_service&#45;&gt;resources/Network/SecurityGroups/ECS/default_service</title>
<path fill="none" stroke="black" d="M927.36,-506.55C978.61,-498.2 1029.73,-485.75 1047.48,-468 1076.07,-439.4 1066.48,-419.45 1066.48,-379 1066.48,-379 1066.48,-379 1066.48,-305 1066.48,-264.55 1072.79,-247.54 1047.48,-216 1036.13,-201.87 1020.19,-191.35 1003.74,-183.59"/>
<polygon fill="black" stroke="black" points="1005.14,-180.38 994.58,-179.55 1002.32,-186.79 1005.14,-180.38"/>
</g>
<!-- resources/Security/SecretsManager/SecretDBPostgreSQL -->
<g id="node8" class="node">
<title>resources/Security/SecretsManager/SecretDBPostgreSQL</title>
<ellipse fill="none" stroke="black" cx="643.48" cy="-378" rx="280.25" ry="18"/>
<text text-anchor="middle" x="643.48" y="-374.3" font-family="Times,serif" font-size="14.00">resources/Security/SecretsManager/SecretDBPostgreSQL</text>
</g>
<!-- resources/Containers/ECS/Services/default_service&#45;&gt;resources/Security/SecretsManager/SecretDBPostgreSQL -->
<g id="edge7" class="edge">
<title>resources/Containers/ECS/Services/default_service&#45;&gt;resources/Security/SecretsManager/SecretDBPostgreSQL</title>
<path fill="none" stroke="black" d="M630.9,-508.74C438.2,-494.53 148.6,-472.47 144.48,-468 133.63,-456.24 133.78,-443.9 144.48,-432 163.32,-411.05 290.54,-397.74 411.79,-389.7"/>
<polygon fill="black" stroke="black" points="412.25,-393.18 422,-389.03 411.8,-386.19 412.25,-393.18"/>
</g>
<!-- resources/Security/IAM/Policies/ECS_Exec_Policy -->
<g id="node9" class="node">
<title>resources/Security/IAM/Policies/ECS_Exec_Policy</title>
<ellipse fill="none" stroke="black" cx="799.48" cy="-450" rx="239.36" ry="18"/>
<text text-anchor="middle" x="799.48" y="-446.3" font-family="Times,serif" font-size="14.00">resources/Security/IAM/Policies/ECS_Exec_Policy</text>
</g>
<!-- resources/Containers/ECS/Services/default_service&#45;&gt;resources/Security/IAM/Policies/ECS_Exec_Policy -->
<g id="edge8" class="edge">
<title>resources/Containers/ECS/Services/default_service&#45;&gt;resources/Security/IAM/Policies/ECS_Exec_Policy</title>
<path fill="none" stroke="black" d="M799.48,-503.7C799.48,-495.98 799.48,-486.71 799.48,-478.11"/>
<polygon fill="black" stroke="black" points="802.98,-478.1 799.48,-468.1 795.98,-478.1 802.98,-478.1"/>
</g>
<!-- resources/Security/KMS/KMS_Infrastructure -->
<g id="node10" class="node">
<title>resources/Security/KMS/KMS_Infrastructure</title>
<ellipse fill="none" stroke="black" cx="1351.48" cy="-450" rx="219.06" ry="18"/>
<text text-anchor="middle" x="1351.48" y="-446.3" font-family="Times,serif" font-size="14.00">resources/Security/KMS/KMS_Infrastructure</text>
</g>
<!-- resources/Containers/ECS/Services/default_service&#45;&gt;resources/Security/KMS/KMS_Infrastructure -->
<g id="edge9" class="edge">
<title>resources/Containers/ECS/Services/default_service&#45;&gt;resources/Security/KMS/KMS_Infrastructure</title>
<path fill="none" stroke="black" d="M916.88,-506.11C1008.2,-494.53 1134.59,-478.5 1227.53,-466.72"/>
<polygon fill="black" stroke="black" points="1228.07,-470.18 1237.55,-465.45 1227.19,-463.23 1228.07,-470.18"/>
</g>
<!-- resources/Network/SecurityGroups/ECS/default_service&#45;&gt;resources/Network/VPC -->
<g id="edge13" class="edge">
<title>resources/Network/SecurityGroups/ECS/default_service&#45;&gt;resources/Network/VPC</title>
<path fill="none" stroke="black" d="M811.17,-145.84C781.5,-137.97 751.18,-126.06 726.48,-108 704.94,-92.26 689.75,-65.5 680.67,-45.43"/>
<polygon fill="black" stroke="black" points="683.87,-43.99 676.71,-36.18 677.43,-46.75 683.87,-43.99"/>
</g>
<!-- resources/Network/SecurityGroups/ECS/default_service&#45;&gt;resources/Network/SecurityGroups/ALB -->
<g id="edge14" class="edge">
<title>resources/Network/SecurityGroups/ECS/default_service&#45;&gt;resources/Network/SecurityGroups/ALB</title>
<path fill="none" stroke="black" d="M931.48,-143.7C931.48,-135.98 931.48,-126.71 931.48,-118.11"/>
<polygon fill="black" stroke="black" points="934.98,-118.1 931.48,-108.1 927.98,-118.1 934.98,-118.1"/>
</g>
<!-- resources/Database/RDS/Postgresql_Main -->
<g id="node11" class="node">
<title>resources/Database/RDS/Postgresql_Main</title>
<ellipse fill="none" stroke="black" cx="643.48" cy="-306" rx="206.06" ry="18"/>
<text text-anchor="middle" x="643.48" y="-302.3" font-family="Times,serif" font-size="14.00">resources/Database/RDS/Postgresql_Main</text>
</g>
<!-- resources/Security/SecretsManager/SecretDBPostgreSQL&#45;&gt;resources/Database/RDS/Postgresql_Main -->
<g id="edge18" class="edge">
<title>resources/Security/SecretsManager/SecretDBPostgreSQL&#45;&gt;resources/Database/RDS/Postgresql_Main</title>
<path fill="none" stroke="black" d="M643.48,-359.7C643.48,-351.98 643.48,-342.71 643.48,-334.11"/>
<polygon fill="black" stroke="black" points="646.98,-334.1 643.48,-324.1 639.98,-334.1 646.98,-334.1"/>
</g>
<!-- resources/Security/IAM/Policies/ECS_Exec_Policy&#45;&gt;resources/Security/SecretsManager/SecretDBPostgreSQL -->
<g id="edge17" class="edge">
<title>resources/Security/IAM/Policies/ECS_Exec_Policy&#45;&gt;resources/Security/SecretsManager/SecretDBPostgreSQL</title>
<path fill="none" stroke="black" d="M761.71,-432.05C740.24,-422.42 713.15,-410.26 690.33,-400.02"/>
<polygon fill="black" stroke="black" points="691.72,-396.81 681.16,-395.91 688.85,-403.2 691.72,-396.81"/>
</g>
<!-- resources/Database/RDS/Postgresql_Main&#45;&gt;resources/Network/VPC -->
<g id="edge10" class="edge">
<title>resources/Database/RDS/Postgresql_Main&#45;&gt;resources/Network/VPC</title>
<path fill="none" stroke="black" d="M591.52,-288.57C574.42,-280.42 557.3,-268.64 547.48,-252 539.34,-238.22 543.14,-231.4 547.48,-216 566.84,-147.19 618.37,-79.2 648.23,-43.9"/>
<polygon fill="black" stroke="black" points="651.11,-45.93 654.97,-36.06 645.8,-41.37 651.11,-45.93"/>
</g>
<!-- resources/Network/SecurityGroups/RDS&#45;Postgres -->
<g id="node12" class="node">
<title>resources/Network/SecurityGroups/RDS&#45;Postgres</title>
<ellipse fill="none" stroke="black" cx="797.48" cy="-234" rx="241.26" ry="18"/>
<text text-anchor="middle" x="797.48" y="-230.3" font-family="Times,serif" font-size="14.00">resources/Network/SecurityGroups/RDS&#45;Postgres</text>
</g>
<!-- resources/Database/RDS/Postgresql_Main&#45;&gt;resources/Network/SecurityGroups/RDS&#45;Postgres -->
<g id="edge11" class="edge">
<title>resources/Database/RDS/Postgresql_Main&#45;&gt;resources/Network/SecurityGroups/RDS&#45;Postgres</title>
<path fill="none" stroke="black" d="M680.36,-288.23C701.64,-278.56 728.58,-266.32 751.25,-256.01"/>
<polygon fill="black" stroke="black" points="752.7,-259.2 760.36,-251.87 749.8,-252.82 752.7,-259.2"/>
</g>
<!-- resources/Network/SecurityGroups/RDS&#45;Postgres&#45;&gt;resources/Network/VPC -->
<g id="edge15" class="edge">
<title>resources/Network/SecurityGroups/RDS&#45;Postgres&#45;&gt;resources/Network/VPC</title>
<path fill="none" stroke="black" d="M703.9,-217.36C683.77,-209.49 664.84,-197.68 652.48,-180 624.39,-139.82 642.89,-79.73 657.56,-45.45"/>
<polygon fill="black" stroke="black" points="660.86,-46.66 661.75,-36.1 654.47,-43.8 660.86,-46.66"/>
</g>
<!-- resources/Network/SecurityGroups/RDS&#45;Postgres&#45;&gt;resources/Network/SecurityGroups/ECS/default_service -->
<g id="edge16" class="edge">
<title>resources/Network/SecurityGroups/RDS&#45;Postgres&#45;&gt;resources/Network/SecurityGroups/ECS/default_service</title>
<path fill="none" stroke="black" d="M829.91,-216.05C847.97,-206.62 870.63,-194.78 889.97,-184.68"/>
<polygon fill="black" stroke="black" points="891.63,-187.76 898.87,-180.03 888.39,-181.56 891.63,-187.76"/>
</g>
<!-- resources/Security/CertificateManager/ABL -->
<g id="node13" class="node">
<title>resources/Security/CertificateManager/ABL</title>
<ellipse fill="none" stroke="black" cx="1849.48" cy="-522" rx="213.36" ry="18"/>
<text text-anchor="middle" x="1849.48" y="-518.3" font-family="Times,serif" font-size="14.00">resources/Security/CertificateManager/ABL</text>
</g>
<!-- resources/Security/WAF/ALB -->
<g id="node14" class="node">
<title>resources/Security/WAF/ALB</title>
<ellipse fill="none" stroke="black" cx="1474.48" cy="-522" rx="144.07" ry="18"/>
<text text-anchor="middle" x="1474.48" y="-518.3" font-family="Times,serif" font-size="14.00">resources/Security/WAF/ALB</text>
</g>
<!-- resources/Security/WAF/ALB&#45;&gt;resources/Compute/EC2/ALB_Main -->
<g id="edge19" class="edge">
<title>resources/Security/WAF/ALB&#45;&gt;resources/Compute/EC2/ALB_Main</title>
<path fill="none" stroke="black" d="M1531.73,-505.44C1550.23,-497.4 1568.72,-485.48 1579.48,-468 1587.86,-454.37 1589.8,-444.22 1579.48,-432 1559.2,-407.99 1494.76,-394.86 1429.67,-387.67"/>
<polygon fill="black" stroke="black" points="1429.96,-384.18 1419.65,-386.61 1429.22,-391.15 1429.96,-384.18"/>
</g>
<!-- resources/Security/WAF/ALB&#45;&gt;resources/Security/KMS/KMS_Infrastructure -->
<g id="edge20" class="edge">
<title>resources/Security/WAF/ALB&#45;&gt;resources/Security/KMS/KMS_Infrastructure</title>
<path fill="none" stroke="black" d="M1445.01,-504.23C1428.55,-494.86 1407.84,-483.08 1390.1,-472.98"/>
<polygon fill="black" stroke="black" points="1391.55,-469.78 1381.12,-467.87 1388.08,-475.86 1391.55,-469.78"/>
</g>
</g>
</svg>
